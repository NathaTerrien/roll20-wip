<div class="main">
    <div class="myrow"> <!-- top row -->
        <div class="col1third"> <!-- logo -->
            <img style="width: 270px;" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/PFO/img/logo.png" />
        </div>
        <div class="col2third" style="padding-top: 4px;"> <!-- identity -->
            <div class="myrow">
                <div class="identity">
                    <input type="text" name="attr_character_name" class="underlined" spellcheck="false" title="@{character_name}" />
                    <span data-i18n="character-name">character name</span>
                </div>
                <div class="identity">
                    <select class="alignment underlined" name="attr_alignment" title="@{alignment}">
                        <option value="lawful good" data-i18n="lawful-good">lawful good</option>
                        <option value="neutral good" data-i18n="neutral-good">neutral good</option>
                        <option value="chaotic good" data-i18n="chaotic-good">chaotic good</option>
                        <option value="lawful neutral" data-i18n="lawful-neutral">lawful neutral</option>
                        <option value="neutral" data-i18n="neutral" selected="selected">neutral</option>
                        <option value="chaotic neutral" data-i18n="chaotic-neutral">chaotic neutral</option>
                        <option value="lawful evil" data-i18n="lawful-evil">lawful evil</option>
                        <option value="neutral evil" data-i18n="neutral-evil">neutral evil</option>
                        <option value="chaotic evil" data-i18n="chaotic-evil">chaotic evil</option>
                    </select>
                    <span data-i18n="alignment">alignment</span>
                </div>
                <div class="identity">
                    <input type="text" name="attr_player" class="underlined" spellcheck="false" title="@{player}" />
                    <span data-i18n="player">player</span>
                </div>
            </div>
            <div class="myrow">
                <div class="identity">
                    <input type="text" name="attr_class" class="underlined" spellcheck="false" title="@{class}" />
                    <span data-i18n="class">Class</span>
                </div>
                <div class="identity">
                    <input type="number" name="attr_level" value="1" class="underlined" style="max-width:35px;" title="@{level}" />
                    <span data-i18n="level">Level</span>
                </div>
                <div class="identity">
                    <input type="text" name="attr_deity" class="underlined medium" spellcheck="false" title="@{deity}" />
                    <span data-i18n="deity">Deity</span>
                </div>
                <div class="identity">
                    <input type="text" name="attr_homeland" class="underlined medium" spellcheck="false" title="@{homeland}" />
                    <span data-i18n="homeland">Homeland</span>
                </div>
            </div>
            <div class="myrow">
                <div class="identity">
                    <input type="text" name="attr_race" class="underlined medium" spellcheck="false" title="@{race}" />
                    <span data-i18n="race">Race</span>
                </div>
                <div class="identity">
                    <select class="size underlined" name="attr_size" title="@{size}">
                        <option value="fine" data-i18n="fine">Fine</option>
                        <option value="diminutive" data-i18n="diminutive">Diminutive</option>
                        <option value="tiny" data-i18n="tiny">Tiny</option>
                        <option value="small" data-i18n="small">Small</option>
                        <option value="medium" data-i18n="medium" selected="selected">Medium</option>
                        <option value="large" data-i18n="large">Large</option>
                        <option value="huge" data-i18n="huge">Huge</option>
                        <option value="gargantuan" data-i18n="gargantuan">Gargantuan</option>
                        <option value="colossal" data-i18n="colossal">Colossal</option>
                    </select>
                    <span data-i18n="size">Size</span>
                </div>
                <div class="identity">
                    <input type="text" name="attr_gender" class="underlined small" spellcheck="false" title="@{gender}" />
                    <span data-i18n="gender">Gender</span>
                </div>
                <div class="identity">
                    <input type="text" name="attr_age" class="underlined small" spellcheck="false" title="@{age}" />
                    <span data-i18n="age">Age</span>
                </div>
                <div class="identity">
                    <input type="text" name="attr_height" class="underlined small" spellcheck="false" title="@{height}" />
                    <span data-i18n="height-char">Height</span>
                </div>
                <div class="identity">
                    <input type="text" name="attr_weight" class="underlined small" spellcheck="false" title="@{weight}" />
                    <span data-i18n="weight-char">Weight</span>
                </div>
                <div class="identity">
                    <input type="text" name="attr_hair" class="underlined small" spellcheck="false" title="@{hair}" />
                    <span data-i18n="hair">Hair</span>
                </div>
                <div class="identity">
                    <input type="text" name="attr_eyes" class="underlined small" spellcheck="false" title="@{eyes}" />
                    <span data-i18n="eyes">Eyes</span>
                </div>
            </div>
        </div> <!-- END identity -->
    </div> <!-- END top row -->
    <!-- PSEUDO TABS -->
    <input type="radio" name="attr_tabcurrent" class="tabmain" value="tabmain" checked /><span data-i18n="tab-main">Main</span>
    <input type="radio" name="attr_tabcurrent" class="tabadd" value="tabadd" /><span data-i18n="tab-additional">Additional</span>
    <input type="radio" name="attr_tabcurrent" class="tabspell" value="tabspell" /><span data-i18n="tab-spells">Spells</span>
    <input type="radio" name="attr_tabcurrent" class="tabconf" value="tabconf" /><span data-i18n="tab-configuration">Configuration</span>
    <div class="tabmain"> <!-- TAB MAIN -->
        <div class="colhalf"> <!-- tab1 col1 -->
            <div class="abilities"> <!-- abilities -->
                <div class="myrow">
                    <span class="lab" data-i18n="ability-name" data-i18n-title="ability-name" title="Ability Name">Ability Name</span>
                    <span class="lab" data-i18n="score" data-i18n-title="ability-score" title="Score">Score</span>
                    <span class="lab" data-i18n="modifier" data-i18n-title="ability-modifier" title="Modifier">Modifier</span>
                    <span class="lab" data-i18n="temp" data-i18n-title="temp-adjustment" title="Temp Adjustment">Temp</span>
                </div>
                <div class="ability"> <!-- strength -->
                    <input class="sheet-options-flag" name="attr_options-flag-str" type="checkbox" data-i18n-title="show-hide-notes" title="Show/hide notes"><span>i</span>
                    <div class="myrow">
                        <div class="blacklabel">
                            <div class="blackbgrd">
                                <button class="myrol big" type="roll" name="StrRoll" data-i18n-title="strength-roll" title="Strength roll" value="@{whispertype} &{template:default} {{name=^{strength}}} {{type=ability}} {{showchar=@{rollshowchar}}} {{charname=@{character_name}}} {{roll=[[1d20+@{strength_mod}[MOD]+@{rollmod_ability}[BONUS]]]}} {{shownotes=@{rollnotes_ability}}} {{notes=@{strength_notes}}}"><span data-i18n="str">str</span></button>
                                <span class="sml" data-i18n="strength" data-i18n-title="strength" title="Strength">Strength</span>
                            </div>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_strength_base" value="10" class="baseattr" title="@{strength}" />
                            <input type="hidden" name="attr_strength" value="10" />
                            <input type="hidden" name="attr_strength_flag" value="0" class="attr-flag" />
                            <span name="attr_strength" class="pseudoattr finalattr"></span>
                        </div>
                        <div class="boxed greybg">
                            <span name="attr_strength_mod" class="pseudoattr" title="@{strength_mod}"></span>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_strength_bonus" class="boxed" value="0" title="@{strength_bonus}" />
                        </div>
                    </div>
                    <div class="options">
                        <div class="autoex">
                            <span name="attr_strength_notes"></span>
                            <textarea name="attr_strength_notes" spellcheck="false" data-i18n-placeholder="notes-ability-placeholder" placeholder="Notes: +2 racial, +1 magic item..."></textarea>
                        </div>
                    </div>
                </div> <!-- END strength -->
                <div class="ability"> <!-- dexterity -->
                    <input class="sheet-options-flag" name="attr_options-flag-dex" type="checkbox" data-i18n-title="show-hide-notes" title="Show/hide notes"><span>i</span>
                    <div class="myrow">
                        <div class="blacklabel">
                            <div class="blackbgrd">
                                <button class="myrol big" type="roll" name="DexRoll" data-i18n-title="dexterity-roll" title="Dexterity roll" value="@{whispertype} &{template:default} {{name=^{dexterity}}} {{type=ability}} {{showchar=@{rollshowchar}}} {{charname=@{character_name}}} {{roll=[[1d20+@{dexterity_mod}[MOD]+@{rollmod_ability}[BONUS]]]}} {{shownotes=@{rollnotes_ability}}} {{notes=@{dexterity_notes}}}"><span data-i18n="dex">dex</span></button>
                                <span class="sml" data-i18n="dexterity" data-i18n-title="dexterity" title="Dexterity">Dexterity</span>
                            </div>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_dexterity_base" value="10" class="baseattr" title="@{dexterity}" />
                            <input type="hidden" name="attr_dexterity" value="10" />
                            <input type="hidden" name="attr_dexterity_flag" value="0" class="attr-flag" />
                            <span name="attr_dexterity" class="pseudoattr finalattr"></span>
                        </div>
                        <div class="boxed greybg">
                            <span name="attr_dexterity_mod" class="pseudoattr" title="@{dexterity_mod}"></span>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_dexterity_bonus" class="boxed" value="0" title="@{dexterity_bonus}" />
                        </div>
                    </div>
                    <div class="options">
                        <div class="autoex">
                            <span name="attr_dexterity_notes"></span>
                            <textarea name="attr_dexterity_notes" spellcheck="false" data-i18n-placeholder="notes-ability-placeholder" placeholder="Notes: +2 racial, +1 magic item..."></textarea>
                        </div>
                    </div>
                </div> <!-- END dexterity -->
                <div class="ability"> <!-- constitution -->
                    <input class="sheet-options-flag" name="attr_options-flag-con" type="checkbox" data-i18n-title="show-hide-notes" title="Show/hide notes"><span>i</span>
                    <div class="myrow">
                        <div class="blacklabel">
                            <div class="blackbgrd">
                                <button class="myrol big" type="roll" name="ConRoll" data-i18n-title="constitution-roll" title="Constitution roll" value="@{whispertype} &{template:default} {{name=^{constitution}}} {{type=ability}} {{showchar=@{rollshowchar}}} {{charname=@{character_name}}} {{roll=[[1d20+@{constitution_mod}[MOD]+@{rollmod_ability}[BONUS]]]}} {{shownotes=@{rollnotes_ability}}} {{notes=@{constitution_notes}}}"><span data-i18n="con">con</span></button>
                                <span class="sml" data-i18n="constitution" data-i18n-title="constitution" title="Constitution">Constitution</span>
                            </div>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_constitution_base" value="10" class="baseattr" title="@{constitution}" />
                            <input type="hidden" name="attr_constitution" value="10" />
                            <input type="hidden" name="attr_constitution_flag" value="0" class="attr-flag" />
                            <span name="attr_constitution" class="pseudoattr finalattr"></span>
                        </div>
                        <div class="boxed greybg">
                            <span name="attr_constitution_mod" class="pseudoattr" title="@{constitution_mod}"></span>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_constitution_bonus" class="boxed" value="0" title="@{constitution_bonus}" />
                        </div>
                    </div>
                    <div class="options">
                        <div class="autoex">
                            <span name="attr_constitution_notes"></span>
                            <textarea name="attr_constitution_notes" spellcheck="false" data-i18n-placeholder="notes-ability-placeholder" placeholder="Notes: +2 racial, +1 magic item..."></textarea>
                        </div>
                    </div>
                </div> <!-- END constitution -->
                <div class="ability"> <!-- intelligence -->
                    <input class="sheet-options-flag" name="attr_options-flag-int" type="checkbox" data-i18n-title="show-hide-notes" title="Show/hide notes"><span>i</span>
                    <div class="myrow">
                        <div class="blacklabel">
                            <div class="blackbgrd">
                                <button class="myrol big" type="roll" name="IntRoll" data-i18n-title="intelligence-roll" title="Intelligence roll" value="@{whispertype} &{template:default} {{name=^{intelligence}}} {{type=ability}} {{showchar=@{rollshowchar}}} {{charname=@{character_name}}} {{roll=[[1d20+@{intelligence_mod}[MOD]+@{rollmod_ability}[BONUS]]]}} {{shownotes=@{rollnotes_ability}}} {{notes=@{intelligence_notes}}}"><span data-i18n="int">int</span></button>
                                <span class="sml" data-i18n="intelligence" data-i18n-title="intelligence" title="Intelligence">Intelligence</span>
                            </div>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_intelligence_base" value="10" class="baseattr" title="@{intelligence}" />
                            <input type="hidden" name="attr_intelligence" value="10" />
                            <input type="hidden" name="attr_intelligence_flag" value="0" class="attr-flag" />
                            <span name="attr_intelligence" class="pseudoattr finalattr"></span>
                        </div>
                        <div class="boxed greybg">
                            <span name="attr_intelligence_mod" class="pseudoattr" title="@{intelligence_mod}"></span>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_intelligence_bonus" class="boxed" value="0" title="@{intelligence_bonus}" />
                        </div>
                    </div>
                    <div class="options">
                        <div class="autoex">
                            <span name="attr_intelligence_notes"></span>
                            <textarea name="attr_intelligence_notes" spellcheck="false" data-i18n-placeholder="notes-ability-placeholder" placeholder="Notes: +2 racial, +1 magic item..."></textarea>
                        </div>
                    </div>
                </div> <!-- END intelligence -->
                <div class="ability"> <!-- wisdom -->
                    <input class="sheet-options-flag" name="attr_options-flag-wis" type="checkbox" data-i18n-title="show-hide-notes" title="Show/hide notes"><span>i</span>
                    <div class="myrow">
                        <div class="blacklabel">
                            <div class="blackbgrd">
                                <button class="myrol big" type="roll" name="WisRoll" data-i18n-title="wisdom-roll" title="Wisdom roll" value="@{whispertype} &{template:default} {{name=^{wisdom}}} {{type=ability}} {{showchar=@{rollshowchar}}} {{charname=@{character_name}}} {{roll=[[1d20+@{wisdom_mod}[MOD]+@{rollmod_ability}[BONUS]]]}} {{shownotes=@{rollnotes_ability}}} {{notes=@{wisdom_notes}}}"><span data-i18n="wis">wis</span></button>
                                <span class="sml" data-i18n="wisdom" data-i18n-title="wisdom" title="Wisdom">Wisdom</span>
                            </div>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_wisdom_base" value="10" class="baseattr" title="@{wisdom}" />
                            <input type="hidden" name="attr_wisdom" value="10" />
                            <input type="hidden" name="attr_wisdom_flag" value="0" class="attr-flag" />
                            <span name="attr_wisdom" class="pseudoattr finalattr"></span>
                        </div>
                        <div class="boxed greybg">
                            <span name="attr_wisdom_mod" class="pseudoattr" title="@{wisdom_mod}"></span>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_wisdom_bonus" class="boxed" value="0" title="@{wisdom_bonus}" />
                        </div>
                    </div>
                    <div class="options">
                        <div class="autoex">
                            <span name="attr_wisdom_notes"></span>
                            <textarea name="attr_wisdom_notes" spellcheck="false" data-i18n-placeholder="notes-ability-placeholder" placeholder="Notes: +2 racial, +1 magic item..."></textarea>
                        </div>
                    </div>
                </div> <!-- END wisdom -->
                <div class="ability"> <!-- charisma -->
                    <input class="sheet-options-flag" name="attr_options-flag-cha" type="checkbox" data-i18n-title="show-hide-notes" title="Show/hide notes"><span>i</span>
                    <div class="myrow">
                        <div class="blacklabel">
                            <div class="blackbgrd">
                                <button class="myrol big" type="roll" name="ChaRoll" data-i18n-title="charisma-roll" title="Charisma roll" value="@{whispertype} &{template:default} {{name=^{charisma}}} {{type=ability}} {{showchar=@{rollshowchar}}} {{charname=@{character_name}}} {{roll=[[1d20+@{charisma_mod}[MOD]+@{rollmod_ability}[BONUS]]]}} {{shownotes=@{rollnotes_ability}}} {{notes=@{charisma_notes}}}"><span data-i18n="cha">cha</span></button>
                                <span class="sml" data-i18n="charisma" data-i18n-title="charisma" title="Charisma">Charisma</span>
                            </div>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_charisma_base" value="10" class="baseattr" title="@{charisma}" />
                            <input type="hidden" name="attr_charisma" value="10" />
                            <input type="hidden" name="attr_charisma_flag" value="0" class="attr-flag" />
                            <span name="attr_charisma" class="pseudoattr finalattr"></span>
                        </div>
                        <div class="boxed greybg">
                            <span name="attr_charisma_mod" class="pseudoattr" title="@{charisma_mod}"></span>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_charisma_bonus" class="boxed" value="0" title="@{charisma_bonus}" />
                        </div>
                    </div>
                    <div class="options">
                        <div class="autoex">
                            <span name="attr_charisma_notes"></span>
                            <textarea name="attr_charisma_notes" spellcheck="false" data-i18n-placeholder="notes-ability-placeholder" placeholder="Notes: +2 racial, +1 magic item..."></textarea>
                        </div>
                    </div>
                </div> <!-- END charisma -->
            </div>  <!-- END abilities -->
            <div class="subcol">
                <div class="hpvalues"> <!-- HP -->
                    <div class="myrow">
                        <span class="lab">&nbsp;</span>
                        <span class="lab" data-i18n="curr" data-i18n-title="current" title="Current">curr</span>
                        <span class="lab" data-i18n="max" data-i18n-title="maximum" title="Maximum">max</span>
                    </div>
                    <div class="myrow">
                        <div class="blacklabel">
                            <div class="blackbgrd">
                                <button class="myrol big" type="roll" name="HdRoll" data-i18n-title="hit-die-roll" title="Hit Die roll" value="@{whispertype} &{template:default} {{name=^{hit-die}}} {{type=hp}} {{showchar=@{rollshowchar}}} {{charname=@{character_name}}} {{roll=[[1d@{hitdietype}+@{constitution_mod}[MOD]]]}}"><span data-i18n="hp-u">HP</span></button>
                                <span class="sml" data-i18n="hit-points" data-i18n-title="hit-points" title="Hit Points">Hit Points</span>
                            </div>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_hp" class="boxed" value="0" title="@{hp}" />
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_hp_max" class="boxed" value="0" title="@{hp_max}" />
                        </div>
                    </div>
                    <div class="myrow">
                        <span class="lab">&nbsp;</span>
                        <span class="lab" data-i18n="nonlethal" data-i18n-title="nonlethal-damage" title="Nonlethal Damage">nonlethal</span>
                        <span class="lab" data-i18n="dr-u" data-i18n-title="damage-reduction" title="Damage Reduction">DR</span>
                    </div>
                    <div class="myrow">
                        <span class="lab">&nbsp;</span>
                        <div class="boxed">
                            <input type="number" name="attr_nonlethaldmg" class="boxed" value="0" title="@{nonlethaldmg}" />
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_dr" class="boxed" value="0" title="@{dr}" />
                        </div>
                    </div>
                </div> <!-- END HP -->
                <div class="spacer"></div>
                <div class="initiative"> <!-- INITIATIVE -->
                    <input class="sheet-options-flag" name="attr_options-flag-initiative" type="checkbox" data-i18n-title="show-hide-options" title="Show/hide options"><span>y</span>
                    <div class="myrow">
                        <div class="blacklabel">
                            <div class="blackbgrd">
                                <button class="myrol big" type="roll" name="InitRoll" data-i18n-title="initiative-roll" title="Initiative roll" value="@{whispertype} &{template:default} {{name=^{initiative}}} {{type=initiative}} {{showchar=@{rollshowchar}}} {{charname=@{character_name}}} {{roll=[[1d20+@{initiative_mod}[MOD]]]}}"><span data-i18n="init">Init</span></button>
                                <span class="sml" data-i18n="initiative" data-i18n-title="initiative" title="Initiative">Initiative</span>
                            </div>
                        </div>
                        <div class="boxed greybg">
                            <span name="attr_initiative_mod" class="pseudoattr" title="@{initiative_mod}"></span>
                        </div>
                        <div class="boxed">
                            <input type="number" name="attr_initiative_bonus" class="boxed" value="0" title="@{initiative_bonus}" />
                        </div>
                    </div>
                    <div class="myrow">
                        <span class="lab" style="margin-left: 73px;" data-i18n="total" data-i18n-title="total" title="Total">Total</span>
                        <span class="lab" data-i18n="temp" data-i18n-title="temp-adjustment" title="Temp Adjustment">Temp</span>
                    </div>
                    <div class="options">
                        <div class="myrow">
                            <span class="spacer">=</span>
                            <div class="boxed greybg">
                                <span name="attr_dexterity_mod" class="pseudoattr" title="@{dexterity_mod}"></span>
                            </div>
                            <span class="spacer">+</span>
                            <div class="boxed">
                                <input type="number" name="attr_initiative_misc" class="boxed" value="0" title="@{initiative_misc}" />
                            </div>
                        </div>
                        <div class="myrow">
                            <span class="spacer"></span>
                            <span class="lab" data-i18n="dex" data-i18n-title="dexterity-modifier" title="Dexterity Modifier">dex</span>
                            <span class="spacer"></span>
                            <span class="lab" data-i18n="misc" data-i18n-title="misc-modifier" title="Misc Modifier">Misc</span>
                        </div>
                        <div class="autoex">
                            <span name="attr_initiative_notes"></span>
                            <textarea name="attr_initiative_notes" spellcheck="false" data-i18n-placeholder="notes" placeholder="Notes" title="@{initiative_notes}"></textarea>
                        </div>
                    </div>
                </div><!-- END initiative -->
            </div>
            <div class="spacer"></div>
            <div class="acvalues">
                <input class="sheet-options-flag" name="attr_options-flag-ac" type="checkbox" data-i18n-title="show-hide-options" title="Show/hide options"><span>y</span>
                <div class="myrow"> <!-- AC -->
                    <div class="blacklabel">
                        <div class="blackbgrd">
                            <span class="big only" data-i18n="ac-u" data-i18n-title="armor-class" title="Armor Class">AC</span>
                        </div>
                    </div>
                    <div class="boxed greybg">
                        <span name="attr_ac" class="pseudoattr" title="@{ac}"></span>
                    </div>
                    <div class="boxed">
                        <input type="number" name="attr_ac_bonus" class="boxed" value="0" title="@{ac_bonus}" />
                    </div>
                    <div class="blacklabel">
                        <div class="blackbgrd">
                            <span class="big" data-i18n="touch">Touch</span>
                            <span class="sml" data-i18n="armor-class" data-i18n-title="armor-class" title="Armor Class">Armor Class</span>
                        </div>
                    </div>
                    <div class="boxed greybg">
                        <span name="attr_ac_touch" class="pseudoattr" title="@{ac_touch}"></span>
                    </div>
                    <div class="blacklabel">
                        <div class="blackbgrd">
                            <span class="big" data-i18n="flat-footed">Flat-footed</span>
                            <span class="sml" data-i18n="armor-class" data-i18n-title="armor-class" title="Armor Class">Armor Class</span>
                        </div>
                    </div>
                    <div class="boxed greybg">
                        <span name="attr_ac_flatfooted" class="pseudoattr" title="@{ac_flatfooted}"></span>
                    </div>
                </div>
                <div class="options">
                    <div class="myrow">
                        <span class="spacer">=</span>
                        <span class="spacer">10</span>
                        <span class="spacer">+</span>
                        <div class="boxed greybg">
                            <span name="attr_ac_armor" class="pseudoattr" title="@{ac_armor}"></span>
                        </div>
                        <span class="spacer">+</span>
                        <div class="boxed greybg">
                            <span name="attr_ac_shield" class="pseudoattr" title="@{ac_shield}"></span>
                        </div>
                        <span class="spacer">+</span>
                        <div class="boxed greybg">
                            <span name="attr_ac_ability" class="pseudoattr" title="@{ac_ability}"></span>
                        </div>
                        <span class="spacer">+</span>
                        <div class="boxed greybg">
                            <span name="attr_ac_size" class="pseudoattr" title="@{ac_size}"></span>
                        </div>
                        <span class="spacer">+</span>
                        <div class="boxed">
                            <input type="number" name="attr_ac_natural" class="boxed" value="0" title="@{ac_natural}" />
                        </div>
                        <span class="spacer">+</span>
                        <div class="boxed">
                            <input type="number" name="attr_ac_deflection" class="boxed" value="0" title="@{ac_deflection}" />
                        </div>
                        <span class="spacer">+</span>
                        <div class="boxed">
                            <input type="number" name="attr_ac_misc" class="boxed" value="0" title="@{ac_misc}" />
                        </div>
                    </div>
                    <div class="myrow">
                        <span class="spacer"></span>
                        <span class="spacer"></span>
                        <span class="spacer"></span>
                        <span class="lab" data-i18n="armor" data-i18n-title="armor-bonus" title="Armor Bonus">Armor</span>
                        <span class="spacer"></span>
                        <span class="lab" data-i18n="shield" data-i18n-title="shield-bonus" title="Shield Bonus">Shield</span>
                        <span class="spacer"></span>
                        <span class="lab" data-i18n="ability" data-i18n-title="ability-modifier" title="Ability Modifier">Ability</span>
                        <span class="spacer"></span>
                        <span class="lab" data-i18n="size" data-i18n-title="size-modifier" title="Size Modifier">Size</span>
                        <span class="spacer"></span>
                        <span class="lab" data-i18n="natural" data-i18n-title="natural-armor" title="Natural Armor">Natural</span>
                        <span class="spacer"></span>
                        <span class="lab" data-i18n="deflection" data-i18n-title="deflection-modifier" title="Deflection Modifier">Deflection</span>
                        <span class="spacer"></span>
                        <span class="lab" data-i18n="misc" data-i18n-title="misc-bonus" title="Misc Bonus">Misc</span>
                    </div>
                    <div class="autoex">
                        <span name="attr_ac_notes"></span>
                        <textarea name="attr_ac_notes" spellcheck="false" data-i18n-placeholder="notes" placeholder="Notes" title="@{ac_notes}"></textarea>
                    </div>
                </div>
            </div>  <!-- END AC -->
            <div class="spacer"></div>
            <div class="myrow"> <!-- BAB -->
                <div class="blacklabel">
                    <img class="brdleft" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/PFO/img/brdleft.png" />
                    <div class="blackbgrd">
                        <span class="big only" data-i18n="base-attack-bonus">base attack bonus</span>
                    </div>
                    <img class="brdright" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/PFO/img/brdright.png" />
                </div>
            </div> <!-- END BAB -->
        </div>  <!-- END tab1 col1 -->
        <div class="colhalf"> <!-- tab1 col2 -->
            <div class="myrow skills">
                <div class="blacklabel">
                    <img class="brdleft" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/PFO/img/brdleft.png" />
                    <div class="blackbgrd">
                        <span class="big only" data-i18n="skills">skills</span>
                    </div>
                    <img class="brdright" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/PFO/img/brdright.png" />
                </div>
            </div>
        </div>  <!-- END tab1 col2 -->
    </div> <!-- END TAB MAIN -->
    <div class="tabadd"> <!-- TAB ADDITIONNAL -->
        ADDITIONNAL INFORMATION TODO
    </div> <!-- END TAB ADDITIONNAL -->
    <div class="tabspell"> <!-- TAB SPELLS -->
        SPELLS AND MAGIC
    </div> <!-- END TAB SPELLS -->
    <div class="tabconf"> <!-- TAB CONFIGURATION -->
        <div class="col1third">
            <div class="blacklabel">
                <img class="brdleft" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/PFO/img/brdleft.png" />
                <div class="blackbgrd">
                    <span class="big only" data-i18n="class">class</span>
                </div>
                <img class="brdright" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/PFO/img/brdright.png" />
            </div>
            <div class="bordered titled inbox">
                <span data-i18n="hit-die">Hit Die</span>:
                <select name="attr_hitdietype">
                    <option value="4">D4</option>
                    <option value="6">D6</option>
                    <option value="8" selected="selected">D8</option>
                    <option value="10">D10</option>
                    <option value="12">D12</option>
                </select>
            </div>
        </div>
        <div class="col1third">
            <div class="blacklabel">
                <img class="brdleft" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/PFO/img/brdleft.png" />
                <div class="blackbgrd">
                    <span class="big only" data-i18n="rolls">rolls</span>
                </div>
                <img class="brdright" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/PFO/img/brdright.png" />
            </div>
            <div class="bordered titled inbox">
                <input class="pseudocheck" type="checkbox" name="attr_rollshowchar" value="[[1]]" title="@{rollshowchar}" checked="checked" /><span class="mleft"></span><span data-i18n="show-character-name">Show character name</span>
                <div class="myrow">
                    <span data-i18n="whisp-rolls-gm:">Whisper Rolls to GM:</span>
                    <select name="attr_whispertype" title="@{whispertype}">
                        <option value="" data-i18n="never-whisper-roll" selected="selected">Never Whisper Rolls</option>
                        <!-- <option value="@{whispertoggle}" data-i18n="toggle-roll-whisper">Whisper Toggle</option> -->
                        <option value="?{Whisper?|Public Roll,|Whisper Roll,/w gm }" data-i18n="query-whisper-roll">Query Whisper</option>
                        <option value="/w gm " data-i18n="always-whisper-roll">Always Whisper Rolls</option>
                    </select>
                </div>
                <span class="block" data-i18n="query-modifier">Query modifier for:</span>
                <div class="myrow padindent"><input class="pseudocheck" type="checkbox" name="attr_rollmod_ability" value="?{Modifier|0}" title="@{rollmod_ability}" /><span class="mleft"></span><span data-i18n="ability-rolls">Ability Rolls</span></div>
                <div class="myrow padindent"><input class="pseudocheck" type="checkbox" name="attr_rollmod_save" value="?{Modifier|0}" title="@{rollmod_save}" /><span class="mleft"></span><span data-i18n="save-rolls">Saving Throw Rolls</span></div>
                <div class="myrow padindent"><input class="pseudocheck" type="checkbox" name="attr_rollmod_skill" value="?{Modifier|0}" title="@{rollmod_skill}" /><span class="mleft"></span><span data-i18n="skill-rolls">Skill Rolls</span></div>
                <div class="myrow padindent"><input class="pseudocheck" type="checkbox" name="attr_rollmod_attack" value="?{Modifier|0}" title="@{rollmod_attack}" /><span class="mleft"></span><span data-i18n="attack-rolls">Attack & CMB Rolls</span></div>
                <div class="myrow padindent"><input class="pseudocheck" type="checkbox" name="attr_rollmod_damage" value="?{Modifier|0}" title="@{rollmod_damage}" /><span class="mleft"></span><span data-i18n="damage-rolls">Damage Rolls</span></div>
                <span class="block" data-i18n="show-notes-in">Show Notes in:</span>
                <div class="myrow padindent"><input class="pseudocheck" type="checkbox" name="attr_rollnotes_ability" value="1" title="@{rollnotes_ability}" /><span class="mleft"></span><span data-i18n="ability-rolls">Ability Rolls</span></div>
                <div class="myrow padindent"><input class="pseudocheck" type="checkbox" name="attr_rollnotes_save" value="1" title="@{rollnotes_save}" /><span class="mleft"></span><span data-i18n="save-rolls">Saving Throw Rolls</span></div>
                <div class="myrow padindent"><input class="pseudocheck" type="checkbox" name="attr_rollnotes_skill" value="1" title="@{rollnotes_skill}" /><span class="mleft"></span><span data-i18n="skill-rolls">Skill Rolls</span></div>
                <div class="myrow padindent"><input class="pseudocheck" type="checkbox" name="attr_rollnotes_attack" value="1" title="@{rollnotes_attack}" /><span class="mleft"></span><span data-i18n="attack-rolls">Attack & CMB Rolls</span></div>
            </div>
        </div>
        <div class="col1third">
            <div class="myrow"  style="text-align: right;">
                <span class="block">Version 0.0a</span>
            </div>
            <div class="blacklabel">
                <img class="brdleft" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/PFO/img/brdleft.png" />
                <div class="blackbgrd">
                    <span class="big only">some other stuff</span>
                </div>
                <img class="brdright" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/PFO/img/brdright.png" />
            </div>
            <div class="bordered titled inbox">
                <span class="block">Some configuration stuff</span>
            </div>
        </div>
    </div> <!-- END TAB CONFIGURATION -->
</div>

<!-- WORKERS -->
<script type="text/worker">
    // ==== EVENTS ===
    // ABILITIES
    on("change:strength_base change:strength_bonus", function() {
        update_attr("strength");
    });
    on("change:strength", function() {
        update_mod("strength");
    });
    on("change:dexterity_base change:dexterity_bonus", function() {
        update_attr("dexterity");
    });
    on("change:dexterity", function() {
        update_mod("dexterity");
    });
    on("change:constitution_base change:constitution_bonus", function() {
        update_attr("constitution");
    });
    on("change:constitution", function() {
        update_mod("constitution");
    });
    on("change:intelligence_base change:intelligence_bonus", function() {
        update_attr("intelligence");
    });
    on("change:intelligence", function() {
        update_mod("intelligence");
    });
    on("change:wisdom_base change:wisdom_bonus", function() {
        update_attr("wisdom");
    });
    on("change:wisdom", function() {
        update_mod("wisdom");
    });
    on("change:charisma_base change:charisma_bonus", function() {
        update_attr("charisma");
    });
    on("change:charisma", function() {
        update_mod("charisma");
    });
    // MODS
    on("change:dexterity_mod change:initiative_misc change:initiative_bonus", function() {
        update_initiative();
    });

    // ==== FUNCTIONS ===
    // ABILITIES and MODS
    var update_attr = function(attr) {
        var update = {};
        var attr_fields = [attr + "_base",attr + "_bonus"];
        getAttrs(attr_fields, function(v) {
            var base = parseInt(v[attr + "_base"]) || 10;
            var bonus = parseInt(v[attr + "_bonus"]) || 0;
            update[attr + "_flag"] = bonus != 0 ? 1 : 0;
            update[attr] = base + bonus;
            setAttrs(update);
        });
    };
    var update_mod = function (attr) {
        getAttrs([attr], function(v) {
            var mod = Math.floor(((parseInt(v[attr]) || 10) - 10) / 2);
            var update = {};
            update[attr + "_mod"] = mod;
            setAttrs(update);
        });
    };
    // INITIATIVE
    var update_initiative = function () {
        getAttrs(["dexterity_mod","initiative_misc","initiative_bonus"], function(v) {
            setAttrs({"initiative_mod": (parseInt(v["dexterity_mod"]) || 0) + (parseInt(v["initiative_misc"]) || 0) + (parseInt(v["initiative_bonus"]) || 0)});
        });
    };
</script>