<script type="text/worker">
    on("change:COMprogsel", function(){
        getAttrs(["COMprog"], function(values){
            var prog = parseInt(values.COMprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({COMprog: newprog});
        });
    });
    on("change:COMprog2sel", function(){
        getAttrs(["COMprog2"], function(values){
            var prog = parseInt(values.COMprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({COMprog2: newprog});
        });
    });
    on("change:COMinit change:COMprog change:COMprog2 change:COMproglib", function(){
        getAttrs(["COMinit","COMprog","COMprog2","COMproglib"], function(values) {
            var init = parseInt(values.COMinit) || 0;
            var prog = Math.max(parseInt(values.COMprog) || 0,0) + Math.max(parseInt(values.COMprog2) || 0,0) + parseInt(values.COMproglib) || 0;
            setAttrs({
                COM: init+prog
            });
        });
    });
    on("change:CNSprogsel", function(){
        getAttrs(["CNSprog"], function(values){
            var prog = parseInt(values.CNSprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({CNSprog: newprog});
        });
    });
    on("change:CNSprog2sel", function(){
        getAttrs(["CNSprog2"], function(values){
            var prog = parseInt(values.CNSprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({CNSprog2: newprog});
        });
    });
    on("change:CNSinit change:CNSprog change:CNSprog2 change:CNSproglib", function(){
        getAttrs(["CNSinit","CNSprog","CNSprog2","CNSproglib"], function(values) {
            var init = parseInt(values.CNSinit) || 0;
            var prog = Math.max(parseInt(values.CNSprog) || 0,0) + Math.max(parseInt(values.CNSprog2) || 0,0) + parseInt(values.CNSproglib) || 0;
            setAttrs({
                CNS: init+prog
            });
        });
    });
    on("change:DISprogsel", function(){
        getAttrs(["DISprog"], function(values){
            var prog = parseInt(values.DISprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({DISprog: newprog});
        });
    });
    on("change:DISprog2sel", function(){
        getAttrs(["DISprog2"], function(values){
            var prog = parseInt(values.DISprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({DISprog2: newprog});
        });
    });
    on("change:DISinit change:DISprog change:DISprog2 change:DISproglib", function(){
        getAttrs(["DISinit","DISprog","DISprog2","DISproglib"], function(values) {
            var init = parseInt(values.DISinit) || 0;
            var prog = Math.max(parseInt(values.DISprog) || 0,0) + Math.max(parseInt(values.DISprog2) || 0,0) + parseInt(values.DISproglib) || 0;
            setAttrs({
                DIS: init+prog
            });
        });
    });
    on("change:ENDprogsel", function(){
        getAttrs(["ENDprog"], function(values){
            var prog = parseInt(values.ENDprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({ENDprog: newprog});
        });
    });
    on("change:ENDprog2sel", function(){
        getAttrs(["ENDprog2"], function(values){
            var prog = parseInt(values.ENDprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({ENDprog2: newprog});
        });
    });
    on("change:ENDinit change:ENDprog change:ENDprog2 change:ENDproglib", function(){
        getAttrs(["ENDinit","ENDprog","ENDprog2","ENDproglib"], function(values) {
            var init = parseInt(values.ENDinit) || 0;
            var prog = Math.max(parseInt(values.ENDprog) || 0,0) + Math.max(parseInt(values.ENDprog2) || 0,0) + parseInt(values.ENDproglib) || 0;
            setAttrs({
                END: init+prog
            });
        });
    });
    on("change:FORprogsel", function(){
        getAttrs(["FORprog"], function(values){
            var prog = parseInt(values.FORprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({FORprog: newprog});
        });
    });
    on("change:FORprog2sel", function(){
        getAttrs(["FORprog2"], function(values){
            var prog = parseInt(values.FORprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({FORprog2: newprog});
        });
    });
    on("change:FORinit change:FORprog change:FORprog2 change:FORproglib", function(){
        getAttrs(["FORinit","FORprog","FORprog2","FORproglib"], function(values) {
            var init = parseInt(values.FORinit) || 0;
            var prog = Math.max(parseInt(values.FORprog) || 0,0) + Math.max(parseInt(values.FORprog2) || 0,0) + parseInt(values.FORproglib) || 0;
            setAttrs({
                FOR: init+prog,
                BF: Math.floor((init+prog)/10)
            });
        });
    });
    on("change:HABprogsel", function(){
        getAttrs(["HABprog"], function(values){
            var prog = parseInt(values.HABprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({HABprog: newprog});
        });
    });
    on("change:HABprog2sel", function(){
        getAttrs(["HABprog2"], function(values){
            var prog = parseInt(values.HABprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({HABprog2: newprog});
        });
    });
    on("change:HABinit change:HABprog change:HABprog2 change:HABproglib", function(){
        getAttrs(["HABinit","HABprog","HABprog2","HABproglib"], function(values) {
            var init = parseInt(values.HABinit) || 0;
            var prog = Math.max(parseInt(values.HABprog) || 0,0) + Math.max(parseInt(values.HABprog2) || 0,0) + parseInt(values.HABproglib) || 0;
            setAttrs({
                HAB: init+prog
            });
        });
    });
    on("change:MAGprogsel", function(){
        getAttrs(["MAGprog"], function(values){
            var prog = parseInt(values.MAGprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({MAGprog: newprog});
        });
    });
    on("change:MAGprog2sel", function(){
        getAttrs(["MAGprog2"], function(values){
            var prog = parseInt(values.MAGprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({MAGprog2: newprog});
        });
    });
    on("change:MAGinit change:MAGprog change:MAGprog2 change:MAGproglib", function(){
        getAttrs(["MAGinit","MAGprog","MAGprog2","MAGproglib"], function(values) {
            var init = parseInt(values.MAGinit) || 0;
            var prog = Math.max(parseInt(values.MAGprog) || 0,0) + Math.max(parseInt(values.MAGprog2) || 0,0) + parseInt(values.MAGproglib) || 0;
            setAttrs({
                MAG: init+prog
            });
        });
    });
    on("change:MVTprogsel", function(){
        getAttrs(["MVTprog"], function(values){
            var prog = parseInt(values.MVTprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({MVTprog: newprog});
        });
    });
    on("change:MVTprog2sel", function(){
        getAttrs(["MVTprog2"], function(values){
            var prog = parseInt(values.MVTprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({MVTprog2: newprog});
        });
    });
    on("change:MVTinit change:MVTprog change:MVTprog2 change:MVTproglib", function(){
        getAttrs(["MVTinit","MVTprog","MVTprog2","MVTproglib"], function(values) {
            var init = parseInt(values.MVTinit) || 0;
            var prog = Math.max(parseInt(values.MVTprog) || 0,0) + Math.max(parseInt(values.MVTprog2) || 0,0) + parseInt(values.MVTproglib) || 0;
            setAttrs({
                MVT: init+prog
            });
        });
    });
    on("change:PERprogsel", function(){
        getAttrs(["PERprog"], function(values){
            var prog = parseInt(values.PERprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({PERprog: newprog});
        });
    });
    on("change:PERprog2sel", function(){
        getAttrs(["PERprog2"], function(values){
            var prog = parseInt(values.PERprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({PERprog2: newprog});
        });
    });
    on("change:PERinit change:PERprog change:PERprog2 change:PERproglib", function(){
        getAttrs(["PERinit","PERprog","PERprog2","PERproglib"], function(values) {
            var init = parseInt(values.PERinit) || 0;
            var prog = Math.max(parseInt(values.PERprog) || 0,0) + Math.max(parseInt(values.PERprog2) || 0,0) + parseInt(values.PERproglib) || 0;
            setAttrs({
                PER: init+prog
            });
        });
    });
    on("change:SOCprogsel", function(){
        getAttrs(["SOCprog"], function(values){
            var prog = parseInt(values.SOCprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({SOCprog: newprog});
        });
    });
    on("change:SOCprog2sel", function(){
        getAttrs(["SOCprog2"], function(values){
            var prog = parseInt(values.SOCprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({SOCprog2: newprog});
        });
    });
    on("change:SOCinit change:SOCprog change:SOCprog2 change:SOCproglib", function(){
        getAttrs(["SOCinit","SOCprog","SOCprog2","SOCproglib"], function(values) {
            var init = parseInt(values.SOCinit) || 0;
            var prog = Math.max(parseInt(values.SOCprog) || 0,0) + Math.max(parseInt(values.SOCprog2) || 0,0) + parseInt(values.SOCproglib) || 0;
            setAttrs({
                SOC: init+prog
            });
        });
    });
    on("change:SRVprogsel", function(){
        getAttrs(["SRVprog"], function(values){
            var prog = parseInt(values.SRVprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({SRVprog: newprog});
        });
    });
    on("change:SRVprog2sel", function(){
        getAttrs(["SRVprog2"], function(values){
            var prog = parseInt(values.SRVprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({SRVprog2: newprog});
        });
    });
    on("change:SRVinit change:SRVprog change:SRVprog2 change:SRVproglib", function(){
        getAttrs(["SRVinit","SRVprog","SRVprog2","SRVproglib"], function(values) {
            var init = parseInt(values.SRVinit) || 0;
            var prog = Math.max(parseInt(values.SRVprog) || 0,0) + Math.max(parseInt(values.SRVprog2) || 0,0) + parseInt(values.SRVproglib) || 0;
            setAttrs({
                SRV: init+prog
            });
        });
    });
    on("change:TIRprogsel", function(){
        getAttrs(["TIRprog"], function(values){
            var prog = parseInt(values.TIRprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({TIRprog: newprog});
        });
    });
    on("change:TIRprog2sel", function(){
        getAttrs(["TIRprog2"], function(values){
            var prog = parseInt(values.TIRprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({TIRprog2: newprog});
        });
    });
    on("change:TIRinit change:TIRprog change:TIRprog2 change:TIRproglib", function(){
        getAttrs(["TIRinit","TIRprog","TIRprog2","TIRproglib"], function(values) {
            var init = parseInt(values.TIRinit) || 0;
            var prog = Math.max(parseInt(values.TIRprog) || 0,0) + Math.max(parseInt(values.TIRprog2) || 0,0) + parseInt(values.TIRproglib) || 0;
            setAttrs({
                TIR: init+prog
            });
        });
    });
    on("change:VOLprogsel", function(){
        getAttrs(["VOLprog"], function(values){
            var prog = parseInt(values.VOLprog) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({VOLprog: newprog});
        });
    });
    on("change:VOLprog2sel", function(){
        getAttrs(["VOLprog2"], function(values){
            var prog = parseInt(values.VOLprog2) || 0;
            var newprog = -1;
            switch(prog) {
                case -1:
                    newprog = 0;
                    break;
                case 0:
                    newprog = 5;
                    break;
                case 5:
                    newprog = 10;
                    break;
                case 10:
                    newprog = -1;
                    break;
                default:
                    newprog = -1;
            }
            setAttrs({VOLprog2: newprog});
        });
    });
    on("change:VOLinit change:VOLprog change:VOLprog2 change:VOLproglib", function(){
        getAttrs(["VOLinit","VOLprog","VOLprog2","VOLproglib"], function(values) {
            var init = parseInt(values.VOLinit) || 0;
            var prog = Math.max(parseInt(values.VOLprog) || 0,0) + Math.max(parseInt(values.VOLprog2) || 0,0) + parseInt(values.VOLproglib) || 0;
            setAttrs({
                VOL: init+prog
            });
        });
    });
</script>
 <!-- ===== FEUILLE =====  -->
<div class="sheet-bgmain">
    <div class="bgblock"> <!-- PERSO/PV/LOGO -->
        <div class="ligne">
            <div class="col">
                <div class="mycol colune">
                    <div class="inps">
                        <input type="text" name="attr_character_name" class="inptxt1" style="width: 250px;" placeholder="Nom du personnage" />
                    </div>
                </div>
                <div class="ligne" style="text-align: center;">
                    <input type="checkbox" name="attr_chkaffcarr" value="1" class="affichage" title="Afficher/masquer les éléments de carrière du personnage" checked /><span>U</span>
                    <input type="checkbox" name="attr_chkaffdesc" value="1" class="affichage" title="Afficher/masquer les éléments descriptifs du personnage" checked /><span>E</span>
                    <input type="checkbox" name="attr_chkaffarmes" value="1" class="affichage" title="Afficher/masquer les Armes de Mêlée du personnage" checked /><span style="font-weight: bolder;font-size: 200%;">&#9876;</span>
                    <input type="checkbox" name="attr_chkafftir" value="1" class="affichage" title="Afficher/masquer les Armes de Tir du personnage" checked /><span style="font-weight: bolder;font-size: 250%;">&#10165;</span>
                    <input type="checkbox" name="attr_chkaffposs" value="1" class="affichage" title="Afficher/masquer les possessions du personnage" checked /><span>x</span>
                    <input type="checkbox" name="attr_chkaffdmagie" value="1" class="affichage" title="Afficher/masquer la section magie" checked /><span>e</span>
                </div>
            </div>
            <div class="mycol coldeb">
                <div class="coltitre">Points de Vie</div>
                <div class="inps">
                    <input type="number" name="attr_pv" value="0" title="Points de Vie courants" />
                    /
                    <input type="number" name="attr_pv_max" value="0" title="Points de Vie maximums" />
                </div>
            </div>
            <div class="mycol colfin">
                <div class="coltitre fin">Fortune</div>
                <div class="inps">
                    <input type="number" name="attr_fortune" value="0" title="Points de Fortune courants" />
                    /
                    <input type="number" name="attr_fortune_max" value="0" title="Points de Fortune maximums" />
                </div>
            </div>
            <div class="col">
                <img style="width: 270px;" src="https://raw.githubusercontent.com/NathaTerrien/roll20-wip/master/Brigandyne/brigandyne_logo.png" />
            </div>
        </div>
    </div>
    <div class="bgblock"> <!-- CARAC -->
        <div class="ttable">
            <div class="trow">
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Combat" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Combat (COM)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{COM}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">COM</button></div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Connaissances" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Connaissances (CNS)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{CNS}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">CNS</button></div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Discrétion" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Discrétion (DIS)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{DIS}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">DIS</button></div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Endurance" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Endurance (END)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{END}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">END</button></div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Force" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Force (FOR)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{FOR}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">FOR</button></div>
                <div class="thead">&nbsp;</div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet d'Habileté" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Habileté (HAB)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{HAB}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">HAB</button></div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Magie" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Magie (MAG)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{MAG}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">MAG</button></div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Mouvement" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Mouvement (MVT)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{MVT}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">MVT</button></div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Perception" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Perception (PER)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{PER}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">PER</button></div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Sociabilité" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Sociabilité (SOC)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{SOC}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">SOC</button></div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Survie" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Survie (SRV)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{SRV}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">SRV</button></div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Tir" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Tir (TIR)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{TIR}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">TIR</button></div>
                <div class="thead"><button type="roll" class="bcar" name="COM" title="Jet de Volonté" value="&{template:tmpl} {{pc=@{character_name}}} {{name=Volonté (VOL)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{VOL}+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}}">VOL</button></div>
            </div>
            <div class="trow">
                <div class="tcell"><input type="number" name="attr_COMinit" value="0" class="carac numtxt" title="Combat, valeur initiale" /></div>
                <div class="tcell"><input type="number" name="attr_CNSinit" value="0" class="carac numtxt" title="Connaissances, valeur initiale" /></div>
                <div class="tcell"><input type="number" name="attr_DISinit" value="0" class="carac numtxt" title="Discrétion, valeur initiale" /></div>
                <div class="tcell"><input type="number" name="attr_ENDinit" value="0" class="carac numtxt" title="Endurance, valeur initiale" /></div>
                <div class="tcell"><input type="number" name="attr_FORinit" value="0" class="carac numtxt" title="Force, valeur initiale" /></div>
                <div class="thead">&nbsp;</div>
                <div class="tcell"><input type="number" name="attr_HABinit" value="0" class="carac numtxt" title="Habileté, valeur initiale" /></div>
                <div class="tcell"><input type="number" name="attr_MAGinit" value="0" class="carac numtxt" title="Magie, valeur initiale" /></div>
                <div class="tcell"><input type="number" name="attr_MVTinit" value="0" class="carac numtxt" title="Mouvement, valeur initiale" /></div>
                <div class="tcell"><input type="number" name="attr_PERinit" value="0" class="carac numtxt" title="Perception, valeur initiale" /></div>
                <div class="tcell"><input type="number" name="attr_SOCinit" value="0" class="carac numtxt" title="Sociabilité, valeur initiale" /></div>
                <div class="tcell"><input type="number" name="attr_SRVinit" value="0" class="carac numtxt" title="Survie, valeur initiale" /></div>
                <div class="tcell"><input type="number" name="attr_TIRinit" value="0" class="carac numtxt" title="Tir, valeur initiale" /></div>
                <div class="tcell"><input type="number" name="attr_VOLinit" value="0" class="carac numtxt" title="Volonté, valeur initiale" /></div>
            </div>
            <div class="trow sombre">
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_COMprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_COMprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_COMprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_COMprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_COMprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_COMprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_COMprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_COMprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_COMprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_COMprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_CNSprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_CNSprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_CNSprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_CNSprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_CNSprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_CNSprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_CNSprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_CNSprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_CNSprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_CNSprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_DISprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_DISprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_DISprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_DISprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_DISprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_DISprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_DISprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_DISprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_DISprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_DISprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_ENDprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_ENDprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_ENDprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_ENDprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_ENDprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_ENDprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_ENDprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_ENDprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_ENDprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_ENDprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_FORprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_FORprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_FORprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_FORprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_FORprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_FORprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_FORprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_FORprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_FORprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_FORprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="thead">&nbsp;</div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_HABprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_HABprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_HABprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_HABprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_HABprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_HABprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_HABprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_HABprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_HABprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_HABprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_MAGprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_MAGprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_MAGprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_MAGprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_MAGprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_MAGprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_MAGprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_MAGprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_MAGprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_MAGprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_MVTprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_MVTprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_MVTprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_MVTprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_MVTprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_MVTprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_MVTprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_MVTprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_MVTprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_MVTprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_PERprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_PERprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_PERprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_PERprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_PERprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_PERprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_PERprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_PERprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_PERprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_PERprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_SOCprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_SOCprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_SOCprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_SOCprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_SOCprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_SOCprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_SOCprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_SOCprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_SOCprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_SOCprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_SRVprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_SRVprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_SRVprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_SRVprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_SRVprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_SRVprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_SRVprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_SRVprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_SRVprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_SRVprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_TIRprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_TIRprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_TIRprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_TIRprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_TIRprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_TIRprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_TIRprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_TIRprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_TIRprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_TIRprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
                <div class="tcell">
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_VOLprogsel" title="Combat, progression" />
                        <input type="radio" name="attr_VOLprog" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_VOLprog" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_VOLprog" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_VOLprog" value="10" /><span>&#9746;</span>
                    </span>
                    <span class="cyclestate">
                        <input type="checkbox" name="attr_VOLprog2sel" title="Combat, progression" />
                        <input type="radio" name="attr_VOLprog2" value="-1" checked /><span>&#9724;</span>
                        <input type="radio" name="attr_VOLprog2" value="0" /><span>&#9744;</span>
                        <input type="radio" name="attr_VOLprog2" value="5" /><span>&#9745;</span>
                        <input type="radio" name="attr_VOLprog2" value="10" /><span>&#9746;</span>
                    </span>
                </div>
            </div>
            <div class="trow sombre">
                <div class="tcell"><input type="number" name="attr_COMproglib" value="0" class="carac numtxt" title="Combat, autre bonus/progression" /></div>
                <div class="tcell"><input type="number" name="attr_CNSproglib" value="0" class="carac numtxt" title="Connaissances, autre bonus/progression" /></div>
                <div class="tcell"><input type="number" name="attr_DISproglib" value="0" class="carac numtxt" title="Discrétion, autre bonus/progression" /></div>
                <div class="tcell"><input type="number" name="attr_ENDproglib" value="0" class="carac numtxt" title="Endurance, autre bonus/progressione" /></div>
                <div class="tcell"><input type="number" name="attr_FORproglib" value="0" class="carac numtxt" title="Force, autre bonus/progression" /></div>
                <div class="thead">BF</div>
                <div class="tcell"><input type="number" name="attr_HABproglib" value="0" class="carac numtxt" title="Habileté, autre bonus/progression" /></div>
                <div class="tcell"><input type="number" name="attr_MAGproglib" value="0" class="carac numtxt" title="Magie, autre bonus/progression" /></div>
                <div class="tcell"><input type="number" name="attr_MVTproglib" value="0" class="carac numtxt" title="Mouvement, autre bonus/progression" /></div>
                <div class="tcell"><input type="number" name="attr_PERproglib" value="0" class="carac numtxt" title="Perception, autre bonus/progression" /></div>
                <div class="tcell"><input type="number" name="attr_SOCproglib" value="0" class="carac numtxt" title="Sociabilité, autre bonus/progression" /></div>
                <div class="tcell"><input type="number" name="attr_SRVproglib" value="0" class="carac numtxt" title="Survie, autre bonus/progression" /></div>
                <div class="tcell"><input type="number" name="attr_TIRproglib" value="0" class="carac numtxt" title="Tir, autre bonus/progression" /></div>
                <div class="tcell"><input type="number" name="attr_VOLproglib" value="0" class="carac numtxt" title="Volonté, autre bonus/progression" /></div>
            </div>
            <div class="trow">
                <div class="tcell"><input type="number" name="attr_COM" value="0" class="carac numtxt" title="Combat, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_CNS" value="0" class="carac numtxt" title="Connaissances, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_DIS" value="0" class="carac numtxt" title="Discrétion, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_END" value="0" class="carac numtxt" title="Endurance, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_FOR" value="0" class="carac numtxt" title="Force, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_BF" value="0" class="carac numtxt" title="Bonus de Force" readonly /></div>
                <div class="tcell"><input type="number" name="attr_HAB" value="0" class="carac numtxt" title="Habileté, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_MAG" value="0" class="carac numtxt" title="Magie, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_MVT" value="0" class="carac numtxt" title="Mouvement, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_PER" value="0" class="carac numtxt" title="Perception, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_SOC" value="0" class="carac numtxt" title="Sociabilité, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_SRV" value="0" class="carac numtxt" title="Survie, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_TIR" value="0" class="carac numtxt" title="Tir, valeur finale" readonly /></div>
                <div class="tcell"><input type="number" name="attr_VOL" value="0" class="carac numtxt" title="Volonté, valeur finale" readonly /></div>
            </div>
        </div>
    </div> <!-- FIN CARAC -->
    <div class="bgblock"><!-- CARRIERE -->
        <input type="checkbox" name="attr_chkaffcarr" value="1" class="aff" checked />
        <div class="affichage">
            <div class="ligne titre"><span>U</span>CARRIÈRE</div>
            <div class="ligne">
                <div class="mycol coldeb">
                    <div class="coltitre">XP</div>
                    <div class="inps">
                        <input type="number" name="attr_experience" value="0" class="min" title="Points d'expérience courants" />
                    </div>
                </div>
                <div class="mycol colmid">
                    <div class="coltitre">Archétype</div>
                    <div class="inps">
                        <input type="text" name="attr_archetype" style="width: 220px;" placeholder="Archétype" />
                    </div>
                </div>
                <div class="mycol colfin">
                    <div class="coltitre fin">Carrière</div>
                    <div class="inps">
                        <input type="text" name="attr_carriere" style="width: 150px;" placeholder="Carrière" />
                    </div>
                </div>
                <div class="mycol colune">
                    <div class="coltitre fin">Protection</div>
                    <div class="inps">
                        <input type="number" name="attr_protection" value="0" class="min" title="Protection" />
                        <input type="text" name="attr_protectiondesc" style="width: 240px;" placeholder="Armure, bouclier ..." />
                    </div>
                </div>
            </div>
            <div class="ligne">
                <div class="mycol coldeb">
                    <div class="coltitre">Spécialités</div>
                    <div class="inps">
                        <textarea name="attr_specialites" style="width: 390px; height: 40px;" placeholder="Spécialités"></textarea>
                    </div>
                </div>
                <div class="mycol colfin">
                    <div class="coltitre fin">Coup Spécial</div>
                    <div class="inps">
                        <textarea name="attr_coupspecial" style="width: 390px; height: 40px;" placeholder="Coup Spécial"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- CARRIERE -->
    <div class="bgblock bgsombre"><!-- DESCRIPTION -->
        <input type="checkbox" name="attr_chkaffdesc" value="1" class="aff" checked />
        <div class="affichage">
            <div class="ligne titre"><span>E</span>DESCRIPTION</div>
            <div class="ligne">
                <div class="mycol colune">
                    <div class="coltitre fin">Peuple</div>
                    <div class="inps">
                        <input type="text" name="attr_peuple" style="width: 150px;" placeholder="Peuple" />
                    </div>
                </div>
                <div class="mycol coldeb">
                    <div class="coltitre">Sexe</div>
                    <div class="inps">
                        <input type="text" name="attr_sexe" style="width: 70px;" placeholder="Sexe" />
                    </div>
                </div>
                <div class="mycol colmid">
                    <div class="coltitre">Taille</div>
                    <div class="inps">
                        <input type="text" name="attr_taille" style="width: 70px;" placeholder="Taille" />
                    </div>
                </div>
                <div class="mycol colmid">
                    <div class="coltitre">Poids</div>
                    <div class="inps">
                        <input type="text" name="attr_poids" style="width: 70px;" placeholder="Poids" />
                    </div>
                </div>
                <div class="mycol colmid">
                    <div class="coltitre">Cheveux</div>
                    <div class="inps">
                        <input type="text" name="attr_cheveux" style="width: 80px;" placeholder="Cheveux" />
                    </div>
                </div>
                <div class="mycol colmid">
                    <div class="coltitre">Yeux</div>
                    <div class="inps">
                        <input type="text" name="attr_yeux" style="width: 80px;" placeholder="Yeux" />
                    </div>
                </div>
                <div class="mycol colfin">
                    <div class="coltitre fin">Main directrice</div>
                    <div class="inps" style="width: 160px;">
                        <input type="radio" name="attr_main" value="Droitier" class="dispchk" title="Main directrice droite" /><span>Droitier</span>
                        <input type="radio" name="attr_main" value="Gaucher" class="dispchk" title="Main directrice gauche" /><span>Gaucher</span>
                    </div>
                </div>
            </div>
            <div class="ligne">
                <div class="mycol coldeb">
                    <div class="coltitre">Langues</div>
                    <div class="inps">
                        <textarea name="attr_langues" style="width: 390px; height: 20px;" placeholder="Langues"></textarea>
                    </div>
                </div>
                <div class="mycol colfin">
                    <div class="coltitre fin">Traits de Caractère</div>
                    <div class="inps">
                        <textarea name="attr_traits" style="width: 390px; height: 20px;" placeholder="Traits de Caractère"></textarea>
                    </div>
                </div>
            </div>
            <div class="ligne">
                <div class="mycol coldeb">
                    <div class="coltitre">Description</div>
                    <div class="inps">
                        <textarea name="attr_description" style="width: 390px; height: 40px;" placeholder="Description"></textarea>
                    </div>
                </div>
                <div class="mycol colfin">
                    <div class="coltitre fin">Notes</div>
                    <div class="inps">
                        <textarea name="attr_notes" style="width: 390px; height: 40px;" placeholder="Description"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div><!-- FIN DESCRIPTION -->
    <div class="bgblock"> <!-- ARMES MELEES -->
        <input type="checkbox" name="attr_chkaffarmes" value="1" class="aff" checked />
        <div class="affichage">
            <div class="ligne titre"><span>&#9876;</span>MÊLÉE</div>
            <div class="ttable">
                <div class="trow">
                    <div class="thead" style="width: 200px; max-width: 200px;" >Arme</div>
                    <div class="thead" style="width: 35px; max-width: 35px;">&nbsp;</div>
                    <div class="thead" style="width: 50px; max-width: 50px;">Mod.</div>
                    <div class="thead" style="width: 50px; max-width: 50px;">Dégâts</div>
                    <div class="thead" style="width: 60px; max-width: 60px;">Allonge</div>
                    <div class="thead" style="width: 50px; max-width: 50px;">Dis°</div>
                    <div class="thead" style="width: 50px; max-width: 50px;">Main</div>
                    <div class="thead">Spécial</div>
                </div>
                <div class="trow">
                    <div class="tcell"><input type="text" name="attr_melee_nom_bag" value="Bagarre, mains nues"  style="width: 100%;" placeholder="Arme de mêlée" /></div>
                    <div class="tcell"><button type="roll" class="atk" name="MainsNues" title="Attaque à mains nues" value="&{template:tmpl} {{pc=@{character_name}}} {{name=@{melee_nom_bag} (COM)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{COM}+(@{melee_mod_bag})[Mod.]+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}} {{dmg=[[@{BF}[BF]+(@{melee_deg_bag})[Arme]]]}}"></button></div>
                    <div class="tcell"><input type="number" name="attr_melee_mod_bag" value="0" class="min arme" title="Modificateur à l'attaque" /></div>
                    <div class="tcell"><input type="number" name="attr_melee_deg_bag" value="-2" class="min arme" title="Dégâts" /></div>
                    <div class="tcell">
                        <SELECT name="attr_melee_all_bag" title="Allonge">
                                <OPTION value="-">&#9660;</OPTION>
                                <OPTION>AA</OPTION>
                                <OPTION>A</OPTION>
                                <OPTION>B</OPTION>
                                <OPTION>C</OPTION>
                                <OPTION>D</OPTION>
                                <OPTION>E</OPTION>
                                <OPTION selected>F</OPTION>
                        </SELECT>
                    </div>
                    <div class="tcell">
                        <SELECT name="attr_melee_diss_bag" title="Dissimulation">
                                <OPTION value="-" selected>&#9660;</OPTION>
                                <OPTION>AA</OPTION>
                                <OPTION>A</OPTION>
                                <OPTION>B</OPTION>
                                <OPTION>C</OPTION>
                                <OPTION>D</OPTION>
                                <OPTION>E</OPTION>
                                <OPTION>F</OPTION>
                        </SELECT>
                    </div>
                    <div class="tcell">
                        <SELECT name="attr_melee_main_bag" title="Mains">
                                <OPTION value="-">&#9660;</OPTION>
                                <OPTION value="1">&#9995;</OPTION>
                                <OPTION value="1.5" selected>&#9995;|&#9995;</OPTION>
                                <OPTION value="2">&#9995; &#9995;</OPTION>
                        </SELECT>
                    </div>
                    <div class="tcell"><input type="text" name="attr_melee_spec_bag" value="Dégâts temporaires, lutte"  style="width: 100%;"  placeholder="Spécial" /></div>
                </div>
            </div>
            <fieldset class="repeating_armes">
                <div class="ttable">
                    <div class="trow">
                        <div class="tcell" style="width: 200px; max-width: 200px;"><input type="text" name="attr_melee_nom" value="" style="width: 100%;" placeholder="Arme de mêlée" /></div>
                        <div class="tcell" style="width: 35px; max-width: 35px;"><button type="roll" class="atk" name="Attaque" title="Jet d'attaque" value="&{template:tmpl} {{pc=@{character_name}}} {{name=@{melee_nom} (COM)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{COM}+(@{melee_mod})[Mod.]+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}} {{dmg=[[@{BF}[BF]+(@{melee_deg})[Arme]]]}}"></button></div>
                        <div class="tcell" style="width: 50px; max-width: 50px;"><input type="number" name="attr_melee_mod" value="0" class="min arme" title="Modificateur à l'attaque" /></div>
                        <div class="tcell" style="width: 50px; max-width: 50px;"><input type="number" name="attr_melee_deg" value="0" class="min arme" title="Dégâts" /></div>
                        <div class="tcell" style="width: 60px; max-width: 60px;">
                            <SELECT name="attr_melee_all" title="Allonge">
                                    <OPTION value="-">&#9660;</OPTION>
                                    <OPTION>AA</OPTION>
                                    <OPTION>A</OPTION>
                                    <OPTION>B</OPTION>
                                    <OPTION selected>C</OPTION>
                                    <OPTION>D</OPTION>
                                    <OPTION>E</OPTION>
                                    <OPTION>F</OPTION>
                            </SELECT>
                        </div>
                        <div class="tcell" style="width: 50px; max-width: 50px;">
                            <SELECT name="attr_melee_diss" title="Dissimulation">
                                    <OPTION value="-">&#9660;</OPTION>
                                    <OPTION>AA</OPTION>
                                    <OPTION>A</OPTION>
                                    <OPTION>B</OPTION>
                                    <OPTION selected>C</OPTION>
                                    <OPTION>D</OPTION>
                                    <OPTION>E</OPTION>
                                    <OPTION>F</OPTION>
                            </SELECT>
                        </div>
                        <div class="tcell" style="width: 50px; max-width: 50px;">
                            <SELECT name="attr_melee_main" title="Mains">
                                    <OPTION value="-">&#9660;</OPTION>
                                    <OPTION value="1" selected>&#9995;</OPTION>
                                    <OPTION value="1.5">&#9995;|&#9995;</OPTION>
                                    <OPTION value="2">&#9995; &#9995;</OPTION>
                            </SELECT>
                        </div>
                        <div class="tcell"><input type="text" name="attr_melee_spec" style="width: 100%;" placeholder="Spécial" /></div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div> <!-- FIN ARMES MELEES -->
    <div class="bgblock bgsombre"> <!-- ARMES TIR -->
        <input type="checkbox" name="attr_chkafftir" value="1" class="aff" checked />
        <div class="affichage">
            <div class="ligne titre"><span>&#10165;</span>TIR</div>
            <div class="ttable">
                <div class="trow">
                    <div class="thead" style="width: 200px; max-width: 200px;" >Arme</div>
                    <div class="thead" style="width: 35px; max-width: 35px;" >&nbsp;</div>
                    <div class="thead" style="width: 50px; max-width: 50px;">Mod.</div>
                    <div class="thead" style="width: 90px; max-width: 90px;">Dégâts</div>
                    <div class="thead" style="width: 50px; max-width: 50px;">Portée</div>
                    <div class="thead" style="width: 40px; max-width: 40px;">Dis°</div>
                    <div class="thead" style="width: 50px; max-width: 50px;">Main</div>
                    <div class="thead" style="width: 50px; max-width: 50px;">Mun.</div>
                    <div class="thead">Spécial</div>
                </div>
            </div>
            <fieldset class="repeating_tirs">
                <div class="ttable">
                    <div class="trow">
                        <div class="tcell" style="width: 200px; max-width: 200px;"><input type="text" name="attr_tir_nom" value="" style="width: 100%;" placeholder="Arme de tir" /></div>
                        <div class="tcell" style="width: 35px; max-width: 35px;"><button type="roll" class="atk" name="Attaque" title="Jet d'attaque" value="&{template:tmpl} {{pc=@{character_name}}} {{name=@{tir_nom} (TIR)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{TIR}+(@{tir_mod})[Mod.]+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}} {{dmg=[[@{tir_for}[BF]+(@{tir_deg})[Arme]]]}}"></button></div>
                        <div class="tcell" style="width: 50px; max-width: 50px;"><input type="number" name="attr_tir_mod" value="0" class="min arme" title="Modificateur à l'attaque" /></div>
                        <div class="tcell" style="width: 90px; max-width: 90px;">
                            <input type="number" name="attr_tir_deg" value="0" class="min arme" title="Dégâts" />
                            <input type="checkbox" name="attr_tir_for" value="[[@{BF}]]" class="dispchk" title="Appliquer le Bonus de Force aux dégâts" /><span>BF</span>
                        </div>
                        <div class="tcell" style="width: 50px; max-width: 50px;">
                            <input type="text" name="attr_tir_port" value="" class="min arme" style="width: 100%;" title="Portée" />
                        </div>
                        <div class="tcell" style="width: 40px; max-width: 40px;">
                            <SELECT name="attr_tir_diss" title="Dissimulation">
                                    <OPTION value="-">&#9660;</OPTION>
                                    <OPTION>AA</OPTION>
                                    <OPTION>A</OPTION>
                                    <OPTION>B</OPTION>
                                    <OPTION selected>C</OPTION>
                                    <OPTION>D</OPTION>
                                    <OPTION>E</OPTION>
                                    <OPTION>F</OPTION>
                            </SELECT>
                        </div>
                        <div class="tcell" style="width: 50px; max-width: 50px;">
                            <SELECT name="attr_tir_main" title="Mains">
                                    <OPTION value="-">&#9660;</OPTION>
                                    <OPTION value="1">&#9995;</OPTION>
                                    <OPTION value="1.5">&#9995;|&#9995;</OPTION>
                                    <OPTION value="2" selected>&#9995; &#9995;</OPTION>
                            </SELECT>
                        </div>
                        <div class="tcell" style="width: 50px; max-width: 50px;"><input type="number" name="attr_tir_mun" value="0" class="min arme" title="Munitions restantes" /></div>
                        <div class="tcell"><input type="text" name="attr_tir_spec" style="width: 100%;" placeholder="Spécial" /></div>
                    </div>
                </div>
            </fieldset>
        </div>    </div> <!-- FIN ARMES TIR -->
    <div class="bgblock"><!-- MAGIE -->
        <input type="checkbox" name="attr_chkaffdmagie" value="1" class="aff" checked />
        <div class="affichage">
            <div class="ligne titre"><span>e</span>MAGIE</div>
            <div class="ligne"> <!-- DOMAINES -->
                <div class="mycol coldeb">
                    <div class="coltitre">Dons élémentaires</div>
                    <div class="inps">
                        <input type="checkbox" name="attr_mag_air" value="1" class="dispchk" title="Air" /><span>Air</span>
                        <input type="checkbox" name="attr_mag_eau" value="1" class="dispchk" title="Eau" /><span>Eau</span>
                        <input type="checkbox" name="attr_mag_feu" value="1" class="dispchk" title="Feu" /><span>Feu</span>
                        <input type="checkbox" name="attr_mag_terre" value="1" class="dispchk" title="Terre" /><span>Terre</span>
                    </div>
                </div>
                <div class="mycol colmid">
                    <div class="coltitre">Maléfices de magie noire</div>
                    <div class="inps">
                        <input type="checkbox" name="attr_mag_alchimie" value="1" class="dispchk" title="Alchimie" /><span>Alchi.</span>
                        <input type="checkbox" name="attr_mag_demonisme" value="1" class="dispchk" title="Démonisme" /><span>Démon.</span>
                        <input type="checkbox" name="attr_mag_illusions" value="1" class="dispchk" title="Illusions" /><span>Illu.</span>
                        <input type="checkbox" name="attr_mag_necromancie" value="1" class="dispchk" title="Nécromancie" /><span>Nécro.</span>
                    </div>
                </div>
                <div class="mycol colmid">
                    <div class="coltitre">Maléfices de magie noire</div>
                    <div class="inps">
                        <input type="checkbox" name="attr_mag_divination" value="1" class="dispchk" title="Divination" /><span>Divi.</span>
                        <input type="checkbox" name="attr_mag_enchantements" value="1" class="dispchk" title="Enchantements" /><span>Enchant.</span>
                        <input type="checkbox" name="attr_mag_protection" value="1" class="dispchk" title="Protection" /><span>Protec.</span>
                        <input type="checkbox" name="attr_mag_psyche" value="1" class="dispchk" title="Pysché" /><span>Psyché</span>
                    </div>
                </div>
                <div class="mycol colfin">
                    <div class="coltitre fin">&nbsp;</div>
                    <div class="inps">
                        <input type="checkbox" name="attr_mag_animale" value="1" class="dispchk" title="Voie animale" /><span>V. animale</span>
                    </div>
                </div>
            </div> <!-- FIN DOMAINES -->
            <div class="ligne"> <!-- TOURS et FAM -->
                <div class="mycol coldeb">
                    <div class="coltitre">Tours de Magie</div>
                    <div class="inps">
                        <textarea name="attr_mag_tours" style="width: 390px; height: 40px;" placeholder="Tours"></textarea>
                    </div>
                </div>
                <div class="mycol colfin">
                    <div class="coltitre fin">Familier</div>
                    <div class="inps">
                        <textarea name="attr_mag_familier" style="width: 390px; height: 40px;" placeholder="Familier"></textarea>
                    </div>
                </div>
            </div> <!-- FIN TOURS et FAM -->
            <!-- SORTS -->
            <div class="ttable">
                <div class="trow">
                    <div class="thead" style="width: 200px; max-width: 200px;">Sortilèges</div>
                    <div class="thead" style="width: 35px; max-width: 35px;">&nbsp;</div>
                    <div class="thead" style="width: 65px; max-width: 65px;">Test</div>
                    <div class="thead" style="width: 50px; max-width: 50px;">Diff</div>
                    <div class="thead" style="width: 80px; max-width: 80px;">Durée</div>
                    <div class="thead">Effet</div>
                </div>
            </div>
            <fieldset class="repeating_sorts">
                <div class="ttable">
                    <div class="trow">
                        <div class="tcell" style="width: 200px; max-width: 200px;">
                            <input type="text" name="attr_sort_nom" value="" style="width: 100%;" placeholder="Sortilège" />
                        </div>
                        <div class="tcell" style="width: 35px; max-width: 35px;"><button type="roll" class="atk" name="Sort" title="Jet de Magie pour lancer le sort" value="&{template:tmpl} {{pc=@{character_name}}} {{name=@{sort_nom} (MAG)}} {{roll=[[1d100cs1cf100]]}} {{target=[[@{MAG}+(@{sort_diff})[Diff]+(?{Bonus(+)/Malus(-)|0})[Bonus/Malus]]]}} {{desc=(@{sort_duree}) @{sort_effet}}}"></button></div>
                        <div class="tcell" style="width: 65px; max-width: 65px;">
                            <SELECT name="attr_sort_test" title="Type de test">
                                    <OPTION selected>Normal</OPTION>
                                    <OPTION>/COM</OPTION>
                                    <OPTION>/CNS</OPTION>
                                    <OPTION>/DIS</OPTION>
                                    <OPTION>/END</OPTION>
                                    <OPTION>/FOR</OPTION>
                                    <OPTION>/HAB</OPTION>
                                    <OPTION>/MAG</OPTION>
                                    <OPTION>/MVT</OPTION>
                                    <OPTION>/PER</OPTION>
                                    <OPTION>/SOC</OPTION>
                                    <OPTION>/SRV</OPTION>
                                    <OPTION>/TIR</OPTION>
                                    <OPTION>/VOL</OPTION>
                            </SELECT>
                        </div>
                        <div class="tcell" style="width: 50px; max-width: 50px;">
                            <input type="number" name="attr_sort_diff" value="0" class="min arme" title="Difficulté/Modificateur au jet de MAG" />
                        </div>
                        <div class="tcell" style="width: 80px; max-width: 80px;">
                            <input type="text" name="attr_sort_duree" value="" style="width: 100%;" placeholder="Durée" />
                        </div>
                        <div class="tcell">
                            <textarea name="attr_sort_effet" style="width: 100%; height: 20px;" placeholder="Effet"></textarea>
                        </div>
                    </div>
                </div>
                <div class="ttable">
                    <div class="trow sombre">
                        <div class="thead" style="width: 70px; max-width: 70px;">Formule</div>
                        <div class="tcell">
                            <input type="text" name="attr_sort_formule" style="width: 100%;" placeholder="Formule" />
                        </div>
                    </div>
                </div>
            </fieldset>
            <!-- FIN SORTS -->
        </div>
    </div><!-- FIN MAGIE -->
    <div class="bgblock bgsombre"> <!-- POSSESSIONS -->
        <input type="checkbox" name="attr_chkaffposs" value="1" class="aff" checked />
        <div class="affichage">
            <div class="ligne titre"><span>x</span>POSSESSIONS</div>
            <div class="ligne">
                <div class="mycol colune">
                    <div class="inps">
                        <textarea name="attr_possessions" style="width: 800px; height: 80px;" placeholder="Possessions"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- FIN POSSESSIONS -->
    <div class="bgblock" style="text-align: right;"> <!-- Pied -->
        <label>Version 1.0 (26 Mars 2017)</label>
    </div>  <!-- FIN Pied -->
</div> <!-- FIN FEUILLE -->
<!-- === TEMPLATE   === -->
<rolltemplate class="sheet-rolltemplate-tmpl">
    <div class="tplmain">
        <div class="pc">{{name}}</div>
        <div style="display: table;">
            {{#target}}
                <div style="display: table-row;">
                    <div class="jet"><span style="font-family: dicefontd10;font-size: x-large;">t</span> {{roll}} &le; {{target}} <span style="font-size: larger;">&#9678;</span></div>
                    <div class="jet">
                        {{#rollGreater() roll target}}
                            <span class="failure">Échec</span>
                        {{/rollGreater() roll target}}
                        {{#rollTotal() roll target}}
                           <span class="success">Réussite</span>
                        {{/rollTotal() roll target}}
                        {{#rollLess() roll target}}
                            <span class="success">Réussite</span>
                        {{/rollLess() roll target}}
                    </div>
                </div>
            {{/target}}
            {{#dmg}}
                <div style="display: table-row;">
                    <div class="jet bordtop"><span>Dégâts de l'Arme</span></div>
                    <div class="jet bordtop">
                        {{#rollLess() dmg 1}}
                            1
                        {{/rollLess() dmg 1}}
                        {{#rollGreater() dmg 0}}
                            {{dmg}}
                        {{/rollGreater() dmg 0}}
                    </div>
                </div>
            {{/dmg}}
        </div>
        {{#desc}}
            <div class="desc bordtop">{{desc}}</div>
        {{/desc}}
        <div class="jetnom">{{pc}}</div>
    </div>
</rolltemplate>
